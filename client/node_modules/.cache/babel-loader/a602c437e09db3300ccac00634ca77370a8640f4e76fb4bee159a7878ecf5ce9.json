{"ast":null,"code":"import _toConsumableArray from\"/Users/gaurav.kamboj/dell-data/Redcart1_copy/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/gaurav.kamboj/dell-data/Redcart1_copy/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/gaurav.kamboj/dell-data/Redcart1_copy/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/gaurav.kamboj/dell-data/Redcart1_copy/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/gaurav.kamboj/dell-data/Redcart1_copy/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useEffect,useState}from'react';import CartPrice from'./CartPrice';import'../css/cart.css';import CartSave from'./CartSave';import Navbar from'./Navbar';import{useDispatch,connect,useSelector}from'react-redux';import*as actionCreators from'../store/actions/index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Cart(){var carts=useSelector(function(state){return state.carts;});var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];useEffect(function(){var fetchdata=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch(actionCreators.loadCarts());case 2:case\"end\":return _context.stop();}},_callee);}));return function fetchdata(){return _ref.apply(this,arguments);};}();fetchdata();},[]);useEffect(function(){if(carts)setCartItems(carts);},[carts]);var dispatch=useDispatch();console.log(cartItems);var addHandler=function addHandler(ele,index){cartItems.map(function(ele){console.log(ele.id);});var item=cartItems[index];var updateItem=_objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1});console.log(\"updateitem\",updateItem);var updateItems=_toConsumableArray(cartItems);console.log(updateItems);updateItems.splice(index,1);console.log(\"updateItems before\",updateItems);updateItems.splice(index,0,updateItem);console.log(\"updateItems\",updateItems);setCartItems(updateItems);dispatch(actionCreators.cartHandler({id:ele.id,sign:1}));};var minusHandler=function minusHandler(ele,index){var item=cartItems[index];var updateItem=_objectSpread(_objectSpread({},item),{},{quantity:item.quantity-1});console.log(\"updateitem\",updateItem);var updateItems=_toConsumableArray(cartItems);console.log(updateItems);updateItems.splice(index,1);console.log(\"updateItems before\",updateItems);updateItems.splice(index,0,updateItem);console.log(\"updateItems\",updateItems);if(updateItem.quantity>0)setCartItems(updateItems);dispatch(actionCreators.cartHandler({id:ele.id,sign:-1}));};var deleteHandler=function deleteHandler(ele,index){var updateItems=_toConsumableArray(cartItems);console.log(updateItems);updateItems.splice(index,1);console.log(updateItems);setCartItems(updateItems);dispatch(actionCreators.cartHandler({id:ele.id,sign:2}));};var saveForLaterHandler=function saveForLaterHandler(ele,index){setCartItems(cartItems.splice(index,1));dispatch(actionCreators.cartSave(ele));};var quantity=0;var a=[];cartItems.map(function(ele,index){a.push(/*#__PURE__*/_jsxs(\"div\",{className:\"cartProduct\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"productImage\",src:ele.image},index),/*#__PURE__*/_jsxs(\"div\",{className:\"cartDescription\",children:[/*#__PURE__*/_jsx(\"p\",{children:ele.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"priceBold\",children:[\"Rs \",ele.price]}),/*#__PURE__*/_jsx(\"button\",{className:\"handlerBtn\",onClick:function onClick(){minusHandler(ele,index);},children:\"-\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"quantityBtn\",children:ele.quantity}),/*#__PURE__*/_jsx(\"button\",{className:\"handlerBtn\",onClick:function onClick(){addHandler(ele,index);},children:\"+\"}),/*#__PURE__*/_jsx(\"button\",{className:\"handlerBtn\",onClick:function onClick(){deleteHandler(ele,index);},children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{className:\"handlerBtn\",onClick:function onClick(){saveForLaterHandler(ele,index);},children:\"Save for later\"})]})]}));quantity=quantity+ele.quantity;});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"cartGrid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cartContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cartWrapper\",children:[a.length>0&&/*#__PURE__*/_jsxs(\"h1\",{children:[\"My Cart (\",quantity,\")\"]}),a]}),/*#__PURE__*/_jsx(\"div\",{className:\"cartWrapper\",children:/*#__PURE__*/_jsx(CartSave,{})})]}),/*#__PURE__*/_jsx(CartPrice,{})]})]});}export default Cart;","map":{"version":3,"names":["axios","React","useEffect","useState","CartPrice","CartSave","Navbar","useDispatch","connect","useSelector","actionCreators","jsx","_jsx","jsxs","_jsxs","Cart","carts","state","_useState","_useState2","_slicedToArray","cartItems","setCartItems","fetchdata","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","dispatch","loadCarts","stop","apply","arguments","console","log","addHandler","ele","index","map","id","item","updateItem","_objectSpread","quantity","updateItems","_toConsumableArray","splice","cartHandler","sign","minusHandler","deleteHandler","saveForLaterHandler","cartSave","a","push","className","children","src","image","description","price","onClick","length"],"sources":["/Users/gaurav.kamboj/dell-data/Redcart1_copy/client/src/components/Cart.jsx"],"sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react'\nimport CartPrice from './CartPrice';\nimport '../css/cart.css'\nimport CartSave from './CartSave';\nimport Navbar from './Navbar';\nimport {useDispatch,connect, useSelector} from 'react-redux';\nimport * as actionCreators from '../store/actions/index'\nfunction Cart() {\n\n  var carts=useSelector((state)=>state.carts)\n  const  [cartItems,setCartItems]=useState([])\n  useEffect(()=>{\n    const fetchdata=async()=>{\n    await dispatch(actionCreators.loadCarts())\n    }\n    fetchdata();\n  },[])\n\n  useEffect(()=>{\n    if(carts)\n    setCartItems(carts)\n  },[carts])\n\n  const dispatch=useDispatch();\n  console.log(cartItems);\n  const addHandler=(ele,index)=>{\n    cartItems.map(ele=>{\n      console.log(ele.id);\n    })\n    let item=cartItems[index]\n    let updateItem={...item,quantity:item.quantity+1}\n    console.log(\"updateitem\",updateItem);\n    let updateItems=[...cartItems]\n    console.log(updateItems);\n    updateItems.splice(index,1)\n\n    console.log(\"updateItems before\",updateItems);\n    updateItems.splice(index,0,updateItem)\n    console.log(\"updateItems\",updateItems);\n    setCartItems(updateItems)\n    dispatch(actionCreators.cartHandler({id:ele.id,sign:1}))\n  }\n\n  const minusHandler=(ele,index)=>{\n   \n    let item=cartItems[index]\n    let updateItem={...item,quantity:item.quantity-1}\n    console.log(\"updateitem\",updateItem);\n    let updateItems=[...cartItems]\n    console.log(updateItems);\n    updateItems.splice(index,1)\n    console.log(\"updateItems before\",updateItems);\n    updateItems.splice(index,0,updateItem)\n    console.log(\"updateItems\",updateItems);\n    if(updateItem.quantity>0)\n    setCartItems(updateItems)\n    dispatch(actionCreators.cartHandler({id:ele.id,sign:-1}))\n  }\n\n  const deleteHandler=(ele,index)=>{\n \n    let updateItems=[...cartItems]\n    console.log(updateItems);\n    updateItems.splice(index,1)\n    console.log(updateItems);\n    setCartItems(updateItems)\n    dispatch(actionCreators.cartHandler({id:ele.id,sign:2}))\n  }\n\n  const saveForLaterHandler=(ele,index)=>{\n    setCartItems(cartItems.splice(index,1));\n    dispatch(actionCreators.cartSave(ele))\n  }\n\n    \n    var quantity=0;\n    const a=[];\n    cartItems.map((ele,index)=>{\n      a.push(\n      <div className='cartProduct'>\n          <img key={index} className=\"productImage\" src={ele.image}/>\n          <div className='cartDescription'>\n            <p>{ele.description}</p>\n            <p className='priceBold'>Rs {ele.price}</p>\n            <button className='handlerBtn' onClick={()=>{minusHandler(ele,index)}}>-</button>\n            <h5 className='quantityBtn'>{ele.quantity}</h5>\n            <button className='handlerBtn' onClick={()=>{addHandler(ele,index)}}>+</button>\n            <button className='handlerBtn' onClick={()=>{deleteHandler(ele,index)}}>Delete</button>\n            <button className='handlerBtn' onClick={()=>{saveForLaterHandler(ele,index)}}>Save for later</button>\n          </div>\n      </div>)\n        quantity=quantity+ele.quantity\n      })\n\n  return (\n    <div>\n    <Navbar/>\n    <div className='cartGrid'>\n      <div className='cartContainer'>\n        <div className='cartWrapper'>\n        {(a.length>0)&&<h1>My Cart ({quantity})</h1>}\n          {a}\n        </div>\n        <div className='cartWrapper'>\n          <CartSave/>\n        </div>\n      </div>\n      <CartPrice/>\n    </div>\n    </div>\n  )\n}\n\nexport default (Cart)\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}