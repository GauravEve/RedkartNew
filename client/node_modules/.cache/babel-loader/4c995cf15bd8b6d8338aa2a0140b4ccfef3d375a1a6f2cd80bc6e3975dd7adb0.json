{"ast":null,"code":"import _toConsumableArray from\"/Users/gaurav.kamboj/dell-data/Redcart1_copy/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/gaurav.kamboj/dell-data/Redcart1_copy/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/gaurav.kamboj/dell-data/Redcart1_copy/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/gaurav.kamboj/dell-data/Redcart1_copy/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/gaurav.kamboj/dell-data/Redcart1_copy/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useEffect,useState}from'react';import CartPrice from'./CartPrice';import'../css/cart.css';import CartSave from'./CartSave';import Navbar from'./Navbar';import{useDispatch,connect,useSelector}from'react-redux';import*as actionCreators from'../store/actions/index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Cart(props){var carts=useSelector(function(state){return state.carts;});var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];var total=0;useEffect(function(){var fetchdata=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch(actionCreators.loadCarts());case 2:case\"end\":return _context.stop();}},_callee);}));return function fetchdata(){return _ref.apply(this,arguments);};}();fetchdata();},[]);useEffect(function(){if(carts)setCartItems(carts);},[carts]);var dispatch=useDispatch();var addHandler=function addHandler(ele,index){cartItems.map(function(ele){console.log(ele.id);});var item=cartItems[index];var updateItem=_objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1});console.log(\"updateitem\",updateItem);var updateItems=_toConsumableArray(cartItems);console.log(updateItems);updateItems.splice(index,1);console.log(\"updateItems before\",updateItems);updateItems.splice(index,0,updateItem);console.log(\"updateItems\",updateItems);setCartItems(updateItems);updateItems.map(function(ele){total=total+ele.quantity;});console.log(total);props.quantityHandler(total);dispatch(actionCreators.cartHandler({id:ele.id,sign:1}));};var minusHandler=function minusHandler(ele,index){var item=cartItems[index];var updateItem=_objectSpread(_objectSpread({},item),{},{quantity:item.quantity-1});console.log(\"updateitem\",updateItem);var updateItems=_toConsumableArray(cartItems);console.log(updateItems);updateItems.splice(index,1);console.log(\"updateItems before\",updateItems);updateItems.splice(index,0,updateItem);console.log(\"updateItems\",updateItems);if(updateItem.quantity>0)setCartItems(updateItems);updateItems.map(function(ele){total=total+ele.quantity;});props.quantityHandler(total);dispatch(actionCreators.cartHandler({id:ele.id,sign:-1}));// setCartItems(updateItems)\n};var deleteHandler=function deleteHandler(ele,index){var updateItems=_toConsumableArray(cartItems);console.log(updateItems);updateItems.splice(index,1);console.log(updateItems);setCartItems(updateItems);dispatch(actionCreators.cartHandler({id:ele.id,sign:2}));};var saveForLaterHandler=function saveForLaterHandler(ele,index){setCartItems(cartItems.splice(index,1));dispatch(actionCreators.cartSave(ele));};var quantity=0;var a=[];cartItems.map(function(ele,index){a.push(/*#__PURE__*/_jsxs(\"div\",{className:\"cartProduct\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"productImage\",src:ele.image},index),/*#__PURE__*/_jsxs(\"div\",{className:\"cartDescription\",children:[/*#__PURE__*/_jsx(\"p\",{children:ele.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"priceBold\",children:[\"Rs \",ele.price]}),/*#__PURE__*/_jsx(\"button\",{className:\"handlerBtn\",onClick:function onClick(){minusHandler(ele,index);},children:\"-\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"quantityBtn\",children:ele.quantity}),/*#__PURE__*/_jsx(\"button\",{className:\"handlerBtn\",onClick:function onClick(){addHandler(ele,index);},children:\"+\"}),/*#__PURE__*/_jsx(\"button\",{className:\"handlerBtn\",onClick:function onClick(){deleteHandler(ele,index);},children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{className:\"handlerBtn\",onClick:function onClick(){saveForLaterHandler(ele,index);},children:\"Save for later\"})]})]}));quantity=quantity+ele.quantity;});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"cartGrid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cartContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cartWrapper\",children:[a.length>0&&/*#__PURE__*/_jsxs(\"h1\",{children:[\"My Cart (\",quantity,\")\"]}),a]}),/*#__PURE__*/_jsx(\"div\",{className:\"cartWrapper\",children:/*#__PURE__*/_jsx(CartSave,{})})]}),/*#__PURE__*/_jsx(CartPrice,{cart:cartItems})]})]});}export default Cart;","map":{"version":3,"names":["axios","React","useEffect","useState","CartPrice","CartSave","Navbar","useDispatch","connect","useSelector","actionCreators","jsx","_jsx","jsxs","_jsxs","Cart","props","carts","state","_useState","_useState2","_slicedToArray","cartItems","setCartItems","total","fetchdata","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","dispatch","loadCarts","stop","apply","arguments","addHandler","ele","index","map","console","log","id","item","updateItem","_objectSpread","quantity","updateItems","_toConsumableArray","splice","quantityHandler","cartHandler","sign","minusHandler","deleteHandler","saveForLaterHandler","cartSave","a","push","className","children","src","image","description","price","onClick","length","cart"],"sources":["/Users/gaurav.kamboj/dell-data/Redcart1_copy/client/src/components/Cart.jsx"],"sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react'\nimport CartPrice from './CartPrice';\nimport '../css/cart.css'\nimport CartSave from './CartSave';\nimport Navbar from './Navbar';\nimport {useDispatch,connect, useSelector} from 'react-redux';\nimport * as actionCreators from '../store/actions/index'\nfunction Cart(props) {\n\n  var carts=useSelector((state)=>state.carts)\n  const  [cartItems,setCartItems]=useState([])\n  let total=0;\n  useEffect(()=>{\n    const fetchdata=async()=>{\n    await dispatch(actionCreators.loadCarts())\n    }\n    fetchdata();\n  },[])\n\n  useEffect(()=>{\n    if(carts)\n    setCartItems(carts)\n  },[carts])\n\n  const dispatch=useDispatch();\n  \n  const addHandler=(ele,index)=>{\n    cartItems.map(ele=>{\n      console.log(ele.id);\n    })\n    let item=cartItems[index]\n    let updateItem={...item,quantity:item.quantity+1}\n    console.log(\"updateitem\",updateItem);\n    let updateItems=[...cartItems]\n    console.log(updateItems);\n    updateItems.splice(index,1)\n\n    console.log(\"updateItems before\",updateItems);\n    updateItems.splice(index,0,updateItem)\n    console.log(\"updateItems\",updateItems);\n    setCartItems(updateItems)\n    updateItems.map(ele=>{\n      total=total+ele.quantity\n    })\n    console.log(total);\n    props.quantityHandler(total)\n    dispatch(actionCreators.cartHandler({id:ele.id,sign:1}))\n  }\n\n  const minusHandler=(ele,index)=>{\n   \n    let item=cartItems[index]\n    let updateItem={...item,quantity:item.quantity-1}\n    console.log(\"updateitem\",updateItem);\n    let updateItems=[...cartItems]\n    console.log(updateItems);\n    updateItems.splice(index,1)\n    console.log(\"updateItems before\",updateItems);\n    updateItems.splice(index,0,updateItem)\n    console.log(\"updateItems\",updateItems);\n    if(updateItem.quantity>0)\n    setCartItems(updateItems)\n    updateItems.map(ele=>{\n      total=total+ele.quantity\n    })\n    props.quantityHandler(total)\n    dispatch(actionCreators.cartHandler({id:ele.id,sign:-1}))\n    \n    // setCartItems(updateItems)\n  }\n\n  const deleteHandler=(ele,index)=>{\n \n    let updateItems=[...cartItems]\n    console.log(updateItems);\n    updateItems.splice(index,1)\n    console.log(updateItems);\n    setCartItems(updateItems)\n    dispatch(actionCreators.cartHandler({id:ele.id,sign:2}))\n  }\n\n  const saveForLaterHandler=(ele,index)=>{\n    setCartItems(cartItems.splice(index,1));\n    dispatch(actionCreators.cartSave(ele))\n  }\n\n    \n    var quantity=0;\n    const a=[];\n    cartItems.map((ele,index)=>{\n      a.push(\n      <div className='cartProduct'>\n          <img key={index} className=\"productImage\" src={ele.image}/>\n          <div className='cartDescription'>\n            <p>{ele.description}</p>\n            <p className='priceBold'>Rs {ele.price}</p>\n            <button className='handlerBtn' onClick={()=>{minusHandler(ele,index)}}>-</button>\n            <h5 className='quantityBtn'>{ele.quantity}</h5>\n            <button className='handlerBtn' onClick={()=>{addHandler(ele,index)}}>+</button>\n            <button className='handlerBtn' onClick={()=>{deleteHandler(ele,index)}}>Delete</button>\n            <button className='handlerBtn' onClick={()=>{saveForLaterHandler(ele,index)}}>Save for later</button>\n          </div>\n      </div>)\n        quantity=quantity+ele.quantity\n      })\n\n  return (\n    <div>\n    <Navbar/>\n    <div className='cartGrid'>\n      <div className='cartContainer'>\n        <div className='cartWrapper'>\n        {(a.length>0)&&<h1>My Cart ({quantity})</h1>}\n          {a}\n        </div>\n        <div className='cartWrapper'>\n          <CartSave/>\n        </div>\n      </div>\n      <CartPrice cart={cartItems}/>\n    </div>\n    </div>\n  )\n}\n\nexport default (Cart)\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}